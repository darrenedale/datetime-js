name: Build datetime-js
description: Build the DateTime.js project for a given target lib and module system

inputs:
  target:
    description: The target js lib for the build
    required: true
  module:
    description: The target module system for the build
    required: true
outputs:
  build-path:
    description: The build path where the build artifacts have been generated
    value: ${{ steps.build-path.outputs.build-path }}

runs:
  using: composite
  steps:
    - id: build-path
      name: Configure
      shell: bash
      run: |
        BUILD_PATH=./build/${{ inputs.target }}/${{ inputs.module }}
        echo "build-path=$BUILD_PATH" >> "$GITHUB_OUTPUT"
    - name: Build
      shell: bash
      run: |
        cd "${{ steps.build-path.outputs.build-path }}"
        pwd
        tsc
        cd -
